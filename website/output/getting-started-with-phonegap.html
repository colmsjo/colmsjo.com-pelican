<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE-edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
			<meta name="author" content="Jonas Colmsjo" />
		<title>Getting started with Phonegap  - Gizur
</title>
		<link rel="stylesheet" type="text/css" href="/theme/css/style.min.css">
		<script src="/theme/js/menu.js"></script>
	</head>
	<body>
		<nav class="navbar is-info" role="navigation" aria-label="main navigation">
				<div class="navbar-brand">
						<a class="navbar-item" href="">
							<img src="/images/gizur-logo.png" width="112" height="28">
						</a>
					<a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarMain">
						<span aria-hidden="true"></span>
						<span aria-hidden="true"></span>
						<span aria-hidden="true"></span>
					</a>
				</div>
				<div id="navbarMain" class="navbar-menu">
					<div class="navbar-start">
						<a class="navbar-item" href="/pages/about.html">
							About
						</a>
						<a class="navbar-item" href="/pages/about2.html">
							About2
						</a>
					<div class="navbar-item has-dropdown is-hoverable">
						<a class="navbar-link" href="/categories">
Categories						</a>
						<div class="navbar-dropdown">
							<a class="navbar-item" href="/category/misc/">
								misc
							</a>
							<a class="navbar-item" href="/category/review/">
								Review
							</a>
						</div>
					</div>
				</div>
				<div class="navbar-end">
					<div class="navbar-item">
						<div class="buttons">
								<a class="button is-link" href="/pages/about.html">About</a>
								<a class="button is-info" href="/pages/about2.html">About2</a>
						</div>
					</div>
				</div>
			</div>
			</nav>
		<section class="section">
			<div class="container">
<article class="message is-info">
	<div class="message-header">
		Getting started with Phonegap
	</div>
	<div class="message-body has-text-dark">
		<p>Getting started with Phonegap</p>
<h1>Background</h1>
<p>I want to develop a web app that can take pictures using the camera. I'll start with Android.</p>
<p>The source code is available here: https://github.com/colmsjo/cardova-test</p>
<h1>Links</h1>
<p>Some articles:</p>
<ul>
<li>Excellent background on how it works - http://www.risingj.com/archives/267</li>
<li>I followed this guide - http://docs.phonegap.com/en/2.2.0/guide_getting-started_android_index.md.html#Getting%20Started%20with%20Android</li>
<li>http://agiliq.com/blog/2012/03/developing-android-applications-from-command-line/</li>
</ul>
<p>Links:</p>
<ul>
<li>http://cordova.apache.org/</li>
<li>Node Cordova client - https://github.com/filmaj/cordova-client</li>
</ul>
<h1>Step by step</h1>
<ol>
<li>Download the Android SDK - http://developer.android.com/sdk/index.html#download</li>
<li>Download Phonegap (could not find a Cordova download, but they are supposed to be the same) - http://phonegap.com/download#</li>
</ol>
<p>These steps are mentioned in the guide, but I don't think they are needed: </p>
<ol>
<li>Download Eclipse for mobile developers - http://www.eclipse.org/downloads/packages/eclipse-mobile-developers/junosr1</li>
<li>Download ADT plugin - http://developer.android.com/sdk/installing/installing-adt.html</li>
</ol>
<h2>Install the SDK and run a Hello World</h2>
<p>After downloading the SDK and Phonegap, do this:</p>
<div class="highlight"><pre><span></span><code><span class="n">nano</span> <span class="o">~/</span><span class="p">.</span><span class="n">bash_profile</span>
<span class="p">...</span>
<span class="o">#</span>
<span class="o">#</span> <span class="n">Android</span> <span class="n">SDK</span>
<span class="o">#</span>

<span class="n">export</span> <span class="n">PATH</span><span class="o">=</span><span class="ss">&quot;$PATH:/Users/jonas/local2/adt-bundle-mac/sdk/tools:/Users/jonas/local2/adt-bundle-mac/sdk/platform-tools&quot;</span>

<span class="k">source</span> <span class="o">~/</span><span class="p">.</span><span class="n">bash_profile</span>

<span class="n">cd</span> <span class="o">~/</span><span class="k">local</span><span class="o">/</span><span class="n">phonegap</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">android</span><span class="o">/</span><span class="n">bin</span>
</code></pre></div>


<p>Now you're supposed to be able to create a first project:</p>
<div class="highlight"><pre><span></span><code><span class="err"># NOTE: it needs to be com.XXX only XXX do not work</span>
<span class="err">./create ~/tmp/phonegap com.test testproject1</span>
</code></pre></div>


<p>Now open eclipse. </p>
<ol>
<li>Choose File-&gt;New-&gt;Other-&gt;Android Project From existing Code</li>
<li>Right click on the project and Select Run As-&gt;Android Application</li>
</ol>
<p>This is supposed to work, for me the app only says 'CONNECTING TO DEVICE'</p>
<p>I tried this:</p>
<ol>
<li>Install one or more Intel x86 Atom System Images as well as the Intel Hardware Accelerated Execution Manager (under Extras).</li>
<li>Run the Intel installer, which has been downloaded to: extras/intel/Hardware_Accelerated_Execution_Manager within your Android SDK
Create a new AVD with the Target set to an Intel image.</li>
</ol>
<p>Now it works, it says: 'DEVICE IS READY'</p>
<h2>Develop a app accessing the camera</h2>
<p>I took the HTML code from the example below and inserted into index.html</p>
<ul>
<li>http://docs.phonegap.com/en/2.2.0/cordova_camera_camera.md.html#Camera</li>
</ul>
<p>This works well. Try yourself, the source code is here: https://github.com/colmsjo/cardova-test</p>
<h2>Troubleshooting</h2>
<p>Google and you'll find a lot of info about people having trouble. </p>
<p>An AVD needs to be created in order to run the emulator. Start Eclipse and open the 
Android Virtual Device Manager Windows </p>
<p>Or run this:</p>
<div class="highlight"><pre><span></span><code><span class="err">android avd</span>
</code></pre></div>


<p>Devices also needs to be setup:</p>
<div class="highlight"><pre><span></span><code><span class="n">adb</span><span class="w"> </span><span class="n">devices</span><span class="w"></span>
<span class="n">adb</span><span class="w"> </span><span class="k">kill</span><span class="o">-</span><span class="n">server</span><span class="w"></span>
<span class="n">adb</span><span class="w"> </span><span class="n">reboot</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="k">Start</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">emulator</span><span class="w"></span>
<span class="n">emulator</span><span class="w"> </span><span class="nv">@avd1</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="k">Check</span><span class="w"> </span><span class="n">connected</span><span class="w"> </span><span class="n">devices</span><span class="w"></span>
<span class="n">adb</span><span class="w"> </span><span class="n">devices</span><span class="w"></span>
</code></pre></div>


<p>There is a Hello world app here:</p>
<ul>
<li>git://github.com/apache/cordova-app-hello-world.git </li>
</ul>
<p>Did a lot of testing, finally this actually works:</p>
<div class="highlight"><pre><span></span><code><span class="n">cd</span> <span class="o">~/</span><span class="n">local2</span><span class="o">/</span><span class="n">phonegap</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">android</span>
<span class="p">.</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="k">create</span> <span class="o">~/</span><span class="n">phonegap_android_proj</span> <span class="n">com</span><span class="p">.</span><span class="n">example</span> <span class="n">TestProjActivity</span> <span class="mi">3</span>

<span class="n">cd</span> <span class="o">~/</span><span class="n">phonegap_android_proj</span>

<span class="n">ant</span> <span class="n">clean</span> <span class="n">debug</span> <span class="n">install</span>
</code></pre></div>


<p>Install apk in emulator:</p>
<div class="highlight"><pre><span></span><code><span class="err">adb install TestProjActivity-debug.apk</span>
</code></pre></div>


<p>Now check the list of apps in the device and start HelloCordova. It should say DEVICE IS READY</p>
<h2>Alternative way of creating the app</h2>
<p>I tested this instead and it seams to work:</p>
<div class="highlight"><pre><span></span><code><span class="n">npm</span> <span class="n">install</span> <span class="n">cordova</span> <span class="o">-</span><span class="k">g</span>
<span class="n">sudo</span> <span class="n">chown</span> <span class="o">-</span><span class="n">R</span> <span class="o">&lt;</span><span class="n">yourusername</span><span class="o">&gt;</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="k">local</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">node_modules</span><span class="o">/</span><span class="n">cordova</span>

<span class="n">cordova</span> <span class="k">create</span> <span class="n">Baz</span>
<span class="n">cd</span> <span class="n">Baz</span><span class="o">/</span>
<span class="n">cordova</span> <span class="n">platform</span> <span class="k">add</span> <span class="n">android</span>
<span class="n">cordova</span> <span class="n">build</span>
<span class="n">cordova</span> <span class="n">serve</span> <span class="n">android</span>
</code></pre></div>
	</div>
</article>
			</div>
		</section>
		<footer class="footer">
			<div class="container has-text-centered">
				<div class="columns">
					<div class="column">
							This is the custom foooter
						<p><a href="https://bulma.io">
							<img src="/theme/images/made_with_bulma.png" alt="Made with Bulma" width="128" height="24">
						</a></p>
					</div>
					<div class="column">
							<p>All rights reserved © Jonas Colmsjö</p>
				</div>
			</div>
		</footer>
	</body>
</html>