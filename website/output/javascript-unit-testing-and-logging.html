<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE-edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
			<meta name="author" content="Jonas Colmsjo" />
		<title>JavaScript Unit Testing and Logging  - Gizur
</title>
		<link rel="stylesheet" type="text/css" href="/theme/css/style.min.css">
		<script src="/theme/js/menu.js"></script>
	</head>
	<body>
		<nav class="navbar is-info" role="navigation" aria-label="main navigation">
				<div class="navbar-brand">
						<a class="navbar-item" href="">
							<img src="/images/gizur-logo.png" width="112" height="28">
						</a>
					<a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarMain">
						<span aria-hidden="true"></span>
						<span aria-hidden="true"></span>
						<span aria-hidden="true"></span>
					</a>
				</div>
				<div id="navbarMain" class="navbar-menu">
					<div class="navbar-start">
						<a class="navbar-item" href="/pages/about.html">
							About
						</a>
						<a class="navbar-item" href="/pages/about2.html">
							About2
						</a>
					<div class="navbar-item has-dropdown is-hoverable">
						<a class="navbar-link" href="/categories">
Categories						</a>
						<div class="navbar-dropdown">
							<a class="navbar-item" href="/category/misc/">
								misc
							</a>
							<a class="navbar-item" href="/category/review/">
								Review
							</a>
						</div>
					</div>
				</div>
				<div class="navbar-end">
					<div class="navbar-item">
						<div class="buttons">
								<a class="button is-link" href="/pages/about.html">About</a>
								<a class="button is-info" href="/pages/about2.html">About2</a>
						</div>
					</div>
				</div>
			</div>
			</nav>
		<section class="section">
			<div class="container">
<article class="message is-info">
	<div class="message-header">
		JavaScript Unit Testing and Logging
	</div>
	<div class="message-body has-text-dark">
		<p>There are tools for unit testing and logging in JavaScript</p>
<p>JavaScript Unit Testing and Logging</p>
<h1>=================================</h1>
<p>All JavaScript exmaples will use a simple unit testing framework from John Resig's Ninja book. </p>
<p>The unit testing framework has two functions:</p>
<ol>
<li>assert(value, desc) - make sure that <code>value</code> is true and show the <code>desc</code> in either green or red based on the result</li>
<li>test(name, fn) - group asserts into tests executed together. <code>fn</code> is a function containg the tests to run and <code>name</code> is the description of the tests </li>
</ol>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="k">function</span><span class="p">()</span><span class="err">{</span>


    <span class="n">var</span> <span class="n">results</span><span class="p">;</span>

    <span class="n">this</span><span class="p">.</span><span class="n">assert</span> <span class="o">=</span> <span class="k">function</span> <span class="n">assert</span><span class="p">(</span> <span class="n">value</span><span class="p">,</span> <span class="k">desc</span> <span class="p">)</span> <span class="err">{</span>
        <span class="n">var</span> <span class="n">li</span> <span class="o">=</span> <span class="n">document</span><span class="p">.</span><span class="n">createElement</span><span class="p">(</span><span class="ss">&quot;li&quot;</span><span class="p">);</span>
        <span class="n">li</span><span class="p">.</span><span class="n">className</span> <span class="o">=</span> <span class="n">value</span> <span class="o">?</span> <span class="ss">&quot;pass&quot;</span> <span class="p">:</span> <span class="ss">&quot;fail&quot;</span><span class="p">;</span>
        <span class="n">li</span><span class="p">.</span><span class="n">appendChild</span><span class="p">(</span> <span class="n">document</span><span class="p">.</span><span class="n">createTextNode</span><span class="p">(</span> <span class="k">desc</span> <span class="p">)</span> <span class="p">);</span>
        <span class="n">results</span><span class="p">.</span><span class="n">appendChild</span><span class="p">(</span> <span class="n">li</span> <span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="n">value</span> <span class="p">)</span> <span class="err">{</span>
            <span class="n">li</span><span class="p">.</span><span class="n">parentNode</span><span class="p">.</span><span class="n">parentNode</span><span class="p">.</span><span class="n">className</span> <span class="o">=</span> <span class="ss">&quot;fail&quot;</span><span class="p">;</span>
        <span class="err">}</span>
        <span class="k">return</span> <span class="n">li</span><span class="p">;</span>
    <span class="err">}</span><span class="p">;</span>

    <span class="n">this</span><span class="p">.</span><span class="n">test</span> <span class="o">=</span> <span class="k">function</span> <span class="n">test</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">fn</span><span class="p">)</span> <span class="err">{</span>
        <span class="n">results</span> <span class="o">=</span> <span class="n">document</span><span class="p">.</span><span class="n">getElementById</span><span class="p">(</span><span class="ss">&quot;results&quot;</span><span class="p">);</span>
        <span class="n">results</span> <span class="o">=</span> <span class="n">assert</span><span class="p">(</span> <span class="k">true</span><span class="p">,</span> <span class="n">name</span> <span class="p">).</span><span class="n">appendChild</span><span class="p">(</span>
            <span class="n">document</span><span class="p">.</span><span class="n">createElement</span><span class="p">(</span><span class="ss">&quot;ul&quot;</span><span class="p">)</span> <span class="p">);</span>
        <span class="n">fn</span><span class="p">();</span>
    <span class="err">}</span><span class="p">;</span>
</code></pre></div>


<p>The logging function simple logs to the console or shows an alert if there is no console.</p>
<div class="highlight"><pre><span></span><code>    <span class="o">//</span> <span class="n">A</span> <span class="k">simple</span> <span class="n">logging</span> <span class="k">statement</span> <span class="n">that</span> <span class="n">works</span> <span class="k">in</span> <span class="k">all</span> <span class="n">browsers</span><span class="p">.</span>
    <span class="n">this</span><span class="p">.</span><span class="n">log</span> <span class="o">=</span> <span class="k">function</span> <span class="n">log</span><span class="p">()</span> <span class="err">{</span>
      <span class="n">try</span> <span class="err">{</span>
        <span class="n">console</span><span class="p">.</span><span class="n">log</span><span class="p">.</span><span class="n">apply</span><span class="p">(</span> <span class="n">console</span><span class="p">,</span> <span class="n">arguments</span> <span class="p">);</span>
      <span class="err">}</span> <span class="n">catch</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="err">{</span>
        <span class="n">try</span> <span class="err">{</span>
          <span class="n">opera</span><span class="p">.</span><span class="n">postError</span><span class="p">.</span><span class="n">apply</span><span class="p">(</span> <span class="n">opera</span><span class="p">,</span> <span class="n">arguments</span> <span class="p">);</span>
        <span class="err">}</span> <span class="n">catch</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="err">{</span>
          <span class="n">alert</span><span class="p">(</span> <span class="nb">Array</span><span class="p">.</span><span class="n">prototype</span><span class="p">.</span><span class="k">join</span><span class="p">.</span><span class="k">call</span><span class="p">(</span> <span class="n">arguments</span><span class="p">,</span> <span class="ss">&quot; &quot;</span> <span class="p">)</span> <span class="p">);</span>
        <span class="err">}</span>
      <span class="err">}</span>
    <span class="err">}</span>

<span class="err">}</span><span class="p">)();</span>
</code></pre></div>


<p>All examples going forward will use these functions.</p>
	</div>
</article>
			</div>
		</section>
		<footer class="footer">
			<div class="container has-text-centered">
				<div class="columns">
					<div class="column">
							This is the custom foooter
						<p><a href="https://bulma.io">
							<img src="/theme/images/made_with_bulma.png" alt="Made with Bulma" width="128" height="24">
						</a></p>
					</div>
					<div class="column">
							<p>All rights reserved © Jonas Colmsjö</p>
				</div>
			</div>
		</footer>
	</body>
</html>